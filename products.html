<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Quiblo</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Quiblo</h1>
                <p class="tagline">Your Lifestyle Companion</p>
            </div>
            <nav class="nav">
                <ul class="nav-list">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="articles.html">Article</a></li>
                    <li><a href="products.html" class="active">Product</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Featured Products</h1>
            <p>Discover our curated selection of recommended products</p>
        </div>
    </section>

    <!-- Category Filter -->
    <section class="categories">
        <div class="container">
            <div class="category-filters">
                <button class="category-btn active" data-category="all">All</button>
                <button class="category-btn" data-category="fashion">Fashion & Accessories</button>
                <button class="category-btn" data-category="beauty">Health & Beauty</button>
                <button class="category-btn" data-category="home">Home & Garden</button>
                <button class="category-btn" data-category="travel">Travel & Accommodation</button>
                <button class="category-btn" data-category="finance">Finance & Insurance</button>
                <button class="category-btn" data-category="food">Food & Beverage</button>
            </div>
        </div>
    </section>

    <!-- Products Grid -->
    <main class="main-content">
        <div class="container">
            <div id="productsGrid" class="blog-grid">
                <!-- Products will be dynamically loaded -->
            </div>
        </div>
    </main>

    <!-- Social Media Widget -->
    <aside class="social-widget">
        <a href="https://www.facebook.com/quiblo" target="_blank" class="social-icon" aria-label="Facebook">
            <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://www.instagram.com/quiblo" target="_blank" class="social-icon" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
        </a>
        <a href="https://www.twitter.com/quiblo" target="_blank" class="social-icon" aria-label="Twitter">
            <i class="fab fa-twitter"></i>
        </a>
        <a href="https://www.pinterest.com/quiblo" target="_blank" class="social-icon" aria-label="Pinterest">
            <i class="fab fa-pinterest-p"></i>
        </a>
    </aside>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Quiblo</h3>
                    <p>Your trusted source for lifestyle inspiration and recommendations.</p>
                </div>
                <div class="footer-section">
                    <h4>Categories</h4>
                    <ul>
                        <li><a href="articles.html">Fashion & Accessories</a></li>
                        <li><a href="articles.html">Health & Beauty</a></li>
                        <li><a href="articles.html">Home & Garden</a></li>
                        <li><a href="articles.html">Travel & Accommodation</a></li>
                        <li><a href="articles.html">Finance & Insurance</a></li>
                        <li><a href="articles.html">Food & Beverage</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Quiblo. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="data.js"></script>
    <script src="script.js"></script>
    <script>
        (function() {
            'use strict';
            let currentCategory = 'all';

            // Wait for data to be loaded
            function waitForData() {
                if (typeof allProducts === 'undefined' || typeof generateStars === 'undefined') {
                    setTimeout(waitForData, 100);
                    return;
                }
                initializeProductsPage();
            }

            // Initialize
            function initializeProductsPage() {
                displayProducts();
                setupCategoryFilters();
            }

            // Initialize when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', waitForData);
            } else {
                waitForData();
            }

            // Display Products
            function displayProducts() {
                const productsGrid = document.getElementById('productsGrid');
                if (!productsGrid) return;
                
                if (typeof allProducts === 'undefined' || !Array.isArray(allProducts)) {
                    productsGrid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px;">
                            <h2 style="color: var(--text-light); margin-bottom: 15px;">Loading products...</h2>
                        </div>
                    `;
                    return;
                }
                
                const filtered = currentCategory === 'all' 
                    ? allProducts 
                    : allProducts.filter(p => p.category === currentCategory);
                
                if (filtered.length === 0) {
                    productsGrid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px;">
                            <h2 style="color: var(--text-light); margin-bottom: 15px;">No products found</h2>
                            <p style="color: var(--text-light);">Try selecting a different category.</p>
                        </div>
                    `;
                    return;
                }
                
                productsGrid.innerHTML = filtered.map(product => `
                    <article class="blog-card fade-in" onclick="window.location.href='product.html?name=${encodeURIComponent(productNameToSlug(product.name))}'">
                        <img src="${product.image}" alt="${product.name}" class="blog-card-image" loading="lazy">
                        <div class="blog-card-content">
                            <span class="blog-card-category">${getCategoryName(product.category)}</span>
                            <h3 class="blog-card-title">${product.name}</h3>
                            <p class="blog-card-excerpt">${product.description}</p>
                            <div class="blog-card-meta">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div class="star-rating" style="color: #FFD700;">
                                        ${generateStars(product.rating)}
                                    </div>
                                    <span style="color: var(--text-light); font-size: 0.9rem;">(${product.reviewCount})</span>
                                </div>
                                <span style="color: var(--primary-pink); font-weight: 600; font-size: 1.1rem;">${product.price}</span>
                            </div>
                        </div>
                    </article>
                `).join('');
            }

            // Setup Category Filters
            function setupCategoryFilters() {
                const categoryButtons = document.querySelectorAll('.category-btn');
                categoryButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        categoryButtons.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        
                        currentCategory = btn.getAttribute('data-category');
                        displayProducts();
                    });
                });
            }
        })();
    </script>
</body>
</html>

